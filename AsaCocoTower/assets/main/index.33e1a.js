window.__require=function t(e,o,n){function r(c,i){if(!o[c]){if(!e[c]){var l=c.split("/");if(l=l[l.length-1],!e[l]){var s="function"==typeof __require&&__require;if(!i&&s)return s(l,!0);if(a)return a(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var u=o[c]={exports:{}};e[c][0].call(u.exports,function(t){return r(e[c][1][t]||t)},u,u.exports,t,e,o,n)}return o[c].exports}for(var a="function"==typeof __require&&__require,c=0;c<n.length;c++)r(n[c]);return r}({About:[function(t,e,o){"use strict";cc._RF.push(e,"4fcebL5FPVJYox7lAVCIHOl","About");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mView=null,e.mBg=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){var t=this;o.ins=this,this.mBg.on(cc.Node.EventType.TOUCH_START,function(){t.Hide()})},e.prototype.Show=function(){this.mView.active=!0},e.prototype.Hide=function(){this.mView.active=!1},e.ins=null,a([l(cc.Node)],e.prototype,"mView",void 0),a([l(cc.Node)],e.prototype,"mBg",void 0),o=a([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],BoxPool:[function(t,e,o){"use strict";cc._RF.push(e,"c7669+wAuNBUr0Se+E84Hjl","BoxPool"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Define"),r=function(){function t(t,e,o){this.mGameView=null,this.mParent=[],this.mSPParent=null,this.mPrefabs=[],this.mBoxes=[],this.mIsLoading=0,this.mParent[0]=t,this.mParent[1]=e,this.mGameView=o}return Object.defineProperty(t.prototype,"IsLoading",{get:function(){return this.mIsLoading==Object.keys(n.default.SymbolType).length},enumerable:!1,configurable:!0}),t.prototype.GetBox=function(){var t=this.GetRandomType(),e=this.GetRandomKey(this.mPrefabs[t]),o=cc.instantiate(e);return o.getComponent(cc.PhysicsCollider).friction=.25,o.parent=t==n.default.SymbolType.Other?this.mParent[1]:this.mParent[0],this.mBoxes.push(o),o},t.prototype.ReturnBox=function(){},t.prototype.ReturnAll=function(){this.mBoxes.forEach(function(t){t.removeFromParent(),t.destroy(),t=null}),this.mBoxes=[]},t.prototype.LoadBoxes=function(){var t=this;cc.loader.loadResDir("prefab/Other",cc.Prefab,function(e,o){e?cc.error(e):(t.mPrefabs[n.default.SymbolType.Other]={},o.forEach(function(e){t.mPrefabs[n.default.SymbolType.Other][e.name]=e}),t.mIsLoading++)}),cc.loader.loadResDir("prefab/asacoco",cc.Prefab,function(e,o){e?cc.error(e):(t.mPrefabs[n.default.SymbolType.Asacoco]={},o.forEach(function(e){t.mPrefabs[n.default.SymbolType.Asacoco][e.name]=e}),t.mIsLoading++)})},t.prototype.GetRandomKey=function(t){var e=Object.keys(t);return t[e[e.length*Math.random()<<0]]},t.prototype.GetRandomType=function(){return 0==Math.floor(10*Math.random())?n.default.SymbolType.Other:n.default.SymbolType.Asacoco},t}();o.default=r,cc._RF.pop()},{"./Define":"Define"}],Box:[function(t,e,o){"use strict";cc._RF.push(e,"4c0ffg8IUFN/5hCQ38e5fRo","Box");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIsDone=!1,e}return r(e,t),e.prototype.onLoad=function(){this.mBody=this.node.getComponent(cc.RigidBody)},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(t){"wall"==t.node.group&&this.mGameOverEvent&&this.mGameOverEvent()},e.prototype.onBeginContact=function(){!this.mIsDone&&this.mContactEvent&&(this.mIsDone=!0,this.mContactEvent())},e.prototype.SetGameOverEvent=function(t){this.mGameOverEvent=t},e.prototype.SetContactEvent=function(t){this.mContactEvent=t},a([i],e)}(cc.Component));o.default=l,cc._RF.pop()},{}],Component:[function(t,e,o){"use strict";cc._RF.push(e,"e9c7bEEuN1GYJEbmTTMYERk","Component");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Score=null,e.Ranking=null,e.ScoreLabel=null,e.BoxesNode=null,e.SPBoxesNode=null,e.DropBtn=null,e.RotateRight=null,e.RotateLeft=null,e.TouchPanel=null,e.GameOver=null,e.Hamu=null,e.Layout=null,e.BotPanel=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.ins=this},e.ins=null,a([l(cc.Node)],e.prototype,"Score",void 0),a([l(cc.Node)],e.prototype,"Ranking",void 0),a([l({type:cc.Label,displayName:"ScoreLabel",tooltip:"\u5206\u6578"})],e.prototype,"ScoreLabel",void 0),a([l({type:cc.Node,displayName:"Boxes",tooltip:"\u7bb1\u5b50\u5b58\u653e\u8655"})],e.prototype,"BoxesNode",void 0),a([l({type:cc.Node,displayName:"SPBoxes",tooltip:"\u7279\u6b8a\u7bb1\u5b50\u5b58\u653e\u8655"})],e.prototype,"SPBoxesNode",void 0),a([l({type:cc.Node,displayName:"DropBtn",tooltip:"\u843d\u4e0b\u6309\u9215"})],e.prototype,"DropBtn",void 0),a([l({type:cc.Node,displayName:"RotateRight",tooltip:"\u53f3\u65cb\u8f49\u6309\u9215"})],e.prototype,"RotateRight",void 0),a([l({type:cc.Node,displayName:"RotateLeft",tooltip:"\u5de6\u65cb\u8f49\u6309\u9215"})],e.prototype,"RotateLeft",void 0),a([l({type:cc.Node,displayName:"TouchPanel",tooltip:"\u89f8\u63a7\u9762\u677f"})],e.prototype,"TouchPanel",void 0),a([l({type:cc.Node,displayName:"GameOver",tooltip:"\u904a\u6232\u7d50\u675f\u63d0\u793a"})],e.prototype,"GameOver",void 0),a([l({type:cc.Node,displayName:"Hamu",tooltip:"\u54c8\u59c6\u592a\u90ce"})],e.prototype,"Hamu",void 0),a([l(cc.Node)],e.prototype,"Layout",void 0),a([l(cc.Node)],e.prototype,"BotPanel",void 0),o=a([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],Define:[function(t,e,o){"use strict";cc._RF.push(e,"46f29Ut8OVHNqdsEz+A+B0T","Define"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.Version="V_0.3",t.MainState=cc.Enum({Loading:-1,Menu:-1,Game:-1}),t.GameState=cc.Enum({Loading:-1,Idle:-1,Player1:-1,Player2:-1,CheckAwake:-1,End:-1,GameOver:-1}),t.SymbolType=cc.Enum({Other:-1,Asacoco:-1}),t}();o.default=n,cc._RF.pop()},{}],Extend:[function(t,e,o){"use strict";cc._RF.push(e,"1af2dAUtm9KX4fRKn48Cyqo","Extend"),Object.defineProperty(o,"__esModule",{value:!0}),o.Random=void 0,function(t){t.getRandom=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.getRandomArray=function(e,o,n){var r=[],a=0,c=!0;if(n<=o-e+1)for(var i=0;i<n;i++){c=!0,a=0;var l=0;do{a=t.getRandom(e,o),l++,-1==r.indexOf(a)&&(r.push(a),c=!1)}while(c&&l<10)}return r}}(o.Random||(o.Random={})),cc._RF.pop()},{}],FiniteState:[function(t,e,o){"use strict";cc._RF.push(e,"33619zgzYJG5oeBTUxlapVV","FiniteState"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(t){this.m_currState=0,this.m_nextState=0,this.m_transitTime=0,this.m_toTransit=!0,this.m_forced=!1,this.m_entering=!1,this.m_currState=t,this.m_nextState=t}return t.prototype.Tick=function(){return this.m_toTransit?(this.m_currState=this.m_nextState,this.m_transitTime=(new Date).getTime()/1e3,this.m_toTransit=!1,this.m_forced=!1,this.m_entering=!0):this.m_entering=!1,this.m_currState},t.prototype.NextState=function(t){this.m_forced||(this.m_nextState=t,this.m_toTransit=!0)},t.prototype.Current=function(){return this.m_currState},t.prototype.Elapsed=function(){return(new Date).getTime()/1e3-this.m_transitTime},t.prototype.IsEntering=function(){return this.m_entering},t.prototype.ForceTransit=function(t){this.m_nextState=t,this.m_toTransit=!0,this.m_forced=!0},t}();o.default=n,cc._RF.pop()},{}],GameView:[function(t,e,o){"use strict";cc._RF.push(e,"e2f0fOuSc1H34H7RtNRYHjm","GameView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./common/FiniteState"),i=t("./Define"),l=t("./Box"),s=t("./BoxPool"),u=t("./Component"),p=t("./Loading"),f=t("./About"),m=t("./Ranking"),d=cc._decorator,h=d.ccclass,y=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mIsOnePlayer=!0,e.mNowPlayer=1,e.mNowBox=null,e.mIsDrop=!1,e.mIsCheck=!1,e.mScore=0,e.mCheckTimeOut=null,e.mBoxPool=null,e}return r(e,t),e.prototype.onLoad=function(){this.mState=new c.default(i.default.GameState.Loading),this.mBoxPool=new s.default(u.default.ins.BoxesNode,u.default.ins.SPBoxesNode,this),this.mBoxPool.LoadBoxes()},e.prototype.start=function(){this.SetEvent()},e.prototype.GameUpdate=function(){var t=this;switch(this.mState.Tick(),this.mState.Current()){case i.default.GameState.Loading:this.mState.IsEntering()&&(cc.log("GameState:Loading"),p.default.ins.Show()),this.mBoxPool.IsLoading&&this.mState.NextState(i.default.GameState.Idle);break;case i.default.GameState.Idle:this.mState.IsEntering()&&(cc.log("GameState:Idle"),p.default.ins.Hide(),this.mNowBox=null,this.mIsDrop=!1,this.mIsCheck=!1,this.mForceStopTimeOut&&(clearTimeout(this.mForceStopTimeOut),this.mForceStopTimeOut=null),this.mIsOnePlayer?this.mState.NextState(i.default.GameState.Player1):(this.mNowPlayer=1==this.mNowPlayer?2:1,1==this.mNowPlayer?this.mState.NextState(i.default.GameState.Player2):this.mState.NextState(i.default.GameState.Player1)));break;case i.default.GameState.Player1:this.mState.IsEntering()&&(cc.log("GameState:Player1"),this.GetBox());break;case i.default.GameState.Player2:this.mState.IsEntering()&&cc.log("GameState:Player2");break;case i.default.GameState.CheckAwake:this.mState.IsEntering()&&(cc.log("GameState:CheckAwake"),this.mCheckTimeOut=setTimeout(function(){t.mState.NextState(i.default.GameState.End)},3e3));break;case i.default.GameState.End:this.mState.IsEntering()&&(cc.log("GameState:End"),this.mState.NextState(i.default.GameState.Idle));break;case i.default.GameState.GameOver:this.mState.IsEntering()&&cc.log("GameState:GameOver")}},e.prototype.GetBox=function(){var t=this;this.mNowBox=this.mBoxPool.GetBox(),this.mNowBox.position=cc.v3(320,970),this.mNowBox.getComponent(l.default).SetGameOverEvent(function(){t.GameOverEvent()}),this.mNowBox.getComponent(l.default).SetContactEvent(function(){t.ContactEvent()})},e.prototype.GameOverEvent=function(){u.default.ins.GameOver.active=!0,this.mForceStopTimeOut&&(clearTimeout(this.mForceStopTimeOut),this.mForceStopTimeOut=null),m.default.ins.SetScoreList(this.mScore),cc.director.pause()},e.prototype.ContactEvent=function(){this.mState.NextState(i.default.GameState.CheckAwake)},e.prototype.Restart=function(){null!=this.mCheckTimeOut&&(clearTimeout(this.mCheckTimeOut),this.mCheckTimeOut=null),u.default.ins.GameOver.active=!1,this.mScore=0,u.default.ins.ScoreLabel.string=this.mScore.toString(),this.mBoxPool.ReturnAll(),this.mState.NextState(i.default.GameState.Idle),cc.director.resume()},e.prototype.ShowUI=function(t){u.default.ins.Layout.active=t,u.default.ins.BotPanel.active=t,u.default.ins.Score.active=t,u.default.ins.Ranking.active=t},e.prototype.IsLoading=function(){return this.mBoxPool.IsLoading},e.prototype.SetEvent=function(){var t=this;u.default.ins.TouchPanel.on(cc.Node.EventType.TOUCH_START,function(e){if(!t.mIsDrop&&t.mNowBox){var o=e.getLocationX();t.mNowBox.position=cc.v3(o,970)}}),u.default.ins.TouchPanel.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(!t.mIsDrop&&t.mNowBox){var o=e.getLocationX();t.mNowBox.position=cc.v3(o,970)}}),u.default.ins.DropBtn.on(cc.Node.EventType.TOUCH_START,function(){t.mIsDrop||(u.default.ins.DropBtn.scale=.9)}),u.default.ins.DropBtn.on(cc.Node.EventType.TOUCH_END,function(){t.mIsDrop||t.mState.Current()!=i.default.GameState.Player1&&t.mState.Current()!=i.default.GameState.Player2||(u.default.ins.DropBtn.scale=1,t.mScore++,u.default.ins.ScoreLabel.string=t.mScore.toString(),t.mNowBox.getComponent(cc.RigidBody).awake=!0,t.mIsDrop=!0,t.mForceStopTimeOut=setTimeout(function(){t.mState.NextState(i.default.GameState.End)},1e4))}),u.default.ins.DropBtn.on(cc.Node.EventType.TOUCH_CANCEL,function(){u.default.ins.DropBtn.scale=1}),u.default.ins.RotateRight.on(cc.Node.EventType.TOUCH_START,function(){t.mIsDrop||(u.default.ins.RotateRight.scale=.9,t.mNowBox.angle+=10,t.mRotateInterval=setInterval(function(){t.mNowBox.angle+=10},100))}),u.default.ins.RotateRight.on(cc.Node.EventType.TOUCH_END,function(){u.default.ins.RotateRight.scale=1,t.mRotateInterval&&(clearInterval(t.mRotateInterval),t.mRotateInterval=null)}),u.default.ins.RotateRight.on(cc.Node.EventType.TOUCH_CANCEL,function(){u.default.ins.RotateRight.scale=1,t.mRotateInterval&&(clearInterval(t.mRotateInterval),t.mRotateInterval=null)}),u.default.ins.RotateLeft.on(cc.Node.EventType.TOUCH_START,function(){t.mIsDrop||(u.default.ins.RotateLeft.scale=.9,t.mNowBox.angle-=10,t.mRotateInterval=setInterval(function(){t.mNowBox.angle-=10},100))}),u.default.ins.RotateLeft.on(cc.Node.EventType.TOUCH_END,function(){u.default.ins.RotateLeft.scale=1,t.mRotateInterval&&(clearInterval(t.mRotateInterval),t.mRotateInterval=null)}),u.default.ins.RotateLeft.on(cc.Node.EventType.TOUCH_CANCEL,function(){u.default.ins.RotateLeft.scale=1,t.mRotateInterval&&(clearInterval(t.mRotateInterval),t.mRotateInterval=null)}),u.default.ins.Ranking.on(cc.Node.EventType.TOUCH_START,function(){u.default.ins.Ranking.scale=.9,m.default.ins.Show()}),u.default.ins.Ranking.on(cc.Node.EventType.TOUCH_END,function(){u.default.ins.Ranking.scale=1}),u.default.ins.Ranking.on(cc.Node.EventType.TOUCH_CANCEL,function(){u.default.ins.Ranking.scale=1});var e=u.default.ins.GameOver.getChildByName("restart");e.on(cc.Node.EventType.TOUCH_START,function(){e.scale=.9}),e.on(cc.Node.EventType.TOUCH_END,function(){t.Restart(),e.scale=1}),e.on(cc.Node.EventType.TOUCH_CANCEL,function(){e.scale=1}),u.default.ins.Hamu.on(cc.Node.EventType.TOUCH_END,function(){f.default.ins.Show()})},a([h],e)}(cc.Component));o.default=y,cc._RF.pop()},{"./About":"About","./Box":"Box","./BoxPool":"BoxPool","./Component":"Component","./Define":"Define","./Loading":"Loading","./Ranking":"Ranking","./common/FiniteState":"FiniteState"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"d63602UjilEpZcB0zuOpqBh","Loading");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,i=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mBg=null,e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){o.ins=this},e.prototype.Show=function(){this.mBg.active=!0},e.prototype.Hide=function(){this.mBg.active=!1},e.ins=null,a([l(cc.Node)],e.prototype,"mBg",void 0),o=a([i],e)}(cc.Component);o.default=s,cc._RF.pop()},{}],LocalStorageManager:[function(t,e,o){"use strict";cc._RF.push(e,"7273aR61oRJEbyiN1sz4bKX","LocalStorageManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.SetBool=function(t,e){"boolean"==typeof e?cc.sys.localStorage.setItem(t,e.toString()):cc.warn("LocalStorage error: SetBool fault")},t.GetBool=function(t){var e=cc.sys.localStorage.getItem(t);return null==e?(cc.warn("LocalStorage error: Key not found "),null):"false"!=e&&"true"!=e?(cc.warn("LocalStorage error: GetBool fault"),null):"true"==e},t.SetInt=function(t,e){"number"==typeof e?cc.sys.localStorage.setItem(t,e.toString()):cc.warn("LocalStorage error: SetInt fault")},t.GetInt=function(t){var e=cc.sys.localStorage.getItem(t);return null==e?(cc.warn("LocalStorage error: Key not found "),null):isNaN(Number(e))?(cc.warn("LocalStorage error: GetInt fault"),null):Number(e)},t.SetString=function(t,e){"string"==typeof e?cc.sys.localStorage.setItem(t,e):cc.warn("LocalStorage error: SetString fault")},t.GetString=function(t){var e=cc.sys.localStorage.getItem(t);return null==e?(cc.warn("LocalStorage error: Key not found "),null):e},t.SetObject=function(t,e){"object"==typeof e?cc.sys.localStorage.setItem(t,JSON.stringify(e)):cc.warn("LocalStorage error: setObject fault")},t.GetObject=function(t){var e=cc.sys.localStorage.getItem(t);if(null==e)return cc.warn("LocalStorage error: Key not found "),null;try{var o=JSON.parse(e);if(o&&"object"==typeof o)return o}catch(n){return cc.warn("LocalStorage error: Value is not object"),null}},t.RemoveData=function(t){return cc.sys.localStorage.removeItem(t)},t.ClearData=function(){return cc.sys.localStorage.clear()},t}();o.default=n,cc._RF.pop()},{}],MainView:[function(t,e,o){"use strict";cc._RF.push(e,"3d85d/SLShC243xVlgKH+Rn","MainView");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./common/FiniteState"),i=t("./Define"),l=t("./GameView"),s=t("./Loading"),u=t("./Menu"),p=cc._decorator,f=p.ccclass,m=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mLoading=null,e.mMenu=null,e.mGameView=null,e.mVersion=null,e}return r(e,t),e.prototype.onLoad=function(){this.mState=new c.default(i.default.MainState.Loading),cc.macro.ENABLE_MULTI_TOUCH=!1,cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0,this.mVersion.string=i.default.Version,this.mLoading.onLoad(),this.mLoading.Show(),this.mMenu.getComponent(u.default).Init(this,this.mGameView)},e.prototype.SetState=function(t){this.mState.NextState(t)},e.prototype.update=function(t){switch(this.mState.Tick(),this.mState.Current()){case i.default.MainState.Loading:this.mState.IsEntering()&&cc.log("MainState:Loading"),this.mGameView.IsLoading&&(this.mMenu.node.active=!0,this.mLoading.Hide(),this.mState.NextState(i.default.MainState.Menu));break;case i.default.MainState.Menu:this.mState.IsEntering()&&cc.log("MainState:Menu");break;case i.default.MainState.Game:this.mState.IsEntering()&&(this.mMenu.node.active=!1,cc.log("MainState:Game")),this.mGameView.GameUpdate(t)}},a([m(s.default)],e.prototype,"mLoading",void 0),a([m(u.default)],e.prototype,"mMenu",void 0),a([m(l.default)],e.prototype,"mGameView",void 0),a([m(cc.Label)],e.prototype,"mVersion",void 0),a([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./Define":"Define","./GameView":"GameView","./Loading":"Loading","./Menu":"Menu","./common/FiniteState":"FiniteState"}],Menu:[function(t,e,o){"use strict";cc._RF.push(e,"afba8+Hm95OOIGSjr8a5h/Q","Menu");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./About"),i=t("./common/Extend"),l=t("./Define"),s=t("./Ranking"),u=cc._decorator,p=u.ccclass,f=u.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mStart=null,e.mSetting=null,e.mRanking=null,e.mAbout=null,e.mAni=null,e.mPlist=null,e.mGameView=null,e.mMameView=null,e}return r(e,t),e.prototype.onLoad=function(){this.SetEvent()},e.prototype.Init=function(t,e){this.mMameView=t,this.mGameView=e;var o=this.mPlist.getSpriteFrames(),n=i.Random.getRandomArray(0,o.length-1,4);if(o.length>0)for(var r=0;r<this.mAni.children.length;r++)this.mAni.children[r].getComponent(cc.Sprite).spriteFrame=o[n[r]]},e.prototype.IsLoading=function(){return null!=this.mMameView},e.prototype.SetEvent=function(){var t=this;this.mStart.on(cc.Node.EventType.TOUCH_START,function(){t.mStart.scale=.9}),this.mStart.on(cc.Node.EventType.TOUCH_END,function(){t.mStart.scale=1,t.mMameView.SetState(l.default.MainState.Game),t.mGameView.ShowUI(!0)}),this.mStart.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.mStart.scale=1}),this.mSetting.on(cc.Node.EventType.TOUCH_START,function(){}),this.mSetting.on(cc.Node.EventType.TOUCH_END,function(){t.mSetting.scale=1}),this.mSetting.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.mSetting.scale=1}),this.mRanking.on(cc.Node.EventType.TOUCH_START,function(){t.mRanking.scale=.9}),this.mRanking.on(cc.Node.EventType.TOUCH_END,function(){s.default.ins.Show(),t.mRanking.scale=1}),this.mRanking.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.mRanking.scale=1}),this.mAbout.on(cc.Node.EventType.TOUCH_START,function(){t.mAbout.scale=.9}),this.mAbout.on(cc.Node.EventType.TOUCH_END,function(){t.mAbout.scale=1,c.default.ins.Show()}),this.mAbout.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.mAbout.scale=1})},a([f(cc.Node)],e.prototype,"mStart",void 0),a([f(cc.Node)],e.prototype,"mSetting",void 0),a([f(cc.Node)],e.prototype,"mRanking",void 0),a([f(cc.Node)],e.prototype,"mAbout",void 0),a([f(cc.Node)],e.prototype,"mAni",void 0),a([f(cc.SpriteAtlas)],e.prototype,"mPlist",void 0),a([p],e)}(cc.Component);o.default=m,cc._RF.pop()},{"./About":"About","./Define":"Define","./Ranking":"Ranking","./common/Extend":"Extend"}],Ranking:[function(t,e,o){"use strict";cc._RF.push(e,"182235zfLlJc5YskgAtIpfl","Ranking");var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),a=this&&this.__decorate||function(t,e,o,n){var r,a=arguments.length,c=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(a<3?r(c):a>3?r(e,o,c):r(e,o))||c);return a>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("./common/LocalStorageManager"),i=cc._decorator,l=i.ccclass,s=i.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mView=null,e.mBg=null,e.mScoreListNode=null,e.mScoreLabels=[],e.mScoreList=[],e}var o;return r(e,t),o=e,e.prototype.onLoad=function(){var t=this;o.ins=this,this.mScoreLabels=this.mScoreListNode.getComponentsInChildren(cc.Label),this.LoadScoreData(),this.mBg.on(cc.Node.EventType.TOUCH_START,function(){t.Hide()})},e.prototype.SetScoreLabel=function(){for(var t=0;t<this.mScoreList.length;t++)this.mScoreLabels[t].string=this.mScoreList[t].toString()},e.prototype.SetScoreList=function(t){this.mScoreList.push(t),this.mScoreList.sort(function(t,e){return e-t}),this.mScoreList.length>10&&this.mScoreList.pop();var e={list:[]};e.list=this.mScoreList,c.default.SetObject("scoreList",e)},e.prototype.LoadScoreData=function(){var t=c.default.GetObject("scoreList");null!=t&&(this.mScoreList=t.list,this.SetScoreLabel())},e.prototype.Show=function(){this.SetScoreLabel(),this.mView.active=!0},e.prototype.Hide=function(){this.mView.active=!1},e.ins=null,a([s(cc.Node)],e.prototype,"mView",void 0),a([s(cc.Node)],e.prototype,"mBg",void 0),a([s(cc.Node)],e.prototype,"mScoreListNode",void 0),o=a([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./common/LocalStorageManager":"LocalStorageManager"}]},{},["About","Box","BoxPool","Component","Define","GameView","Loading","MainView","Menu","Ranking","Extend","FiniteState","LocalStorageManager"]);